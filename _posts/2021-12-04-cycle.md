---
layout: post
title: 백준 - 순열 사이클 (DFS)
subtitle: 백준 순열 사이클 문제 풀이 
categories: codingTest
tags: [codingTest]
---

### 백준 순열 사이클

![image](https://user-images.githubusercontent.com/62547169/144688571-b67de9b1-324d-49aa-861d-5ec59064716c.png)


### 소스코드
 
#### DFS 기본 해결 문제

- stdin을 사용하지 않으면 `시간초과`
- DFS로 모든 경우의 수를 구하는 방법
- del graph[n]으로 방문했던 키 삭제

```python

import sys
def DFS(graph, lst_root, a):
    cnt = 0
    for i in range(a):
        visited = []
        stack = [lst_root[i]]
        while stack:        
            n = stack.pop()
            if n not in visited:       
                if n in graph:
                    visited.append(n)
                    stack += set(graph[n]) - set(visited)
                    del graph[n]
        if visited:
            cnt +=1
    return cnt

graph = {}

n = int(input())

for i in range(0,n):
    a = int(sys.stdin.readline())
    ran = list(range(1,a+1))
    lst = list(map(int,sys.stdin.readline().split()))

    for i in range(0,a):
            graph[ran[i]] = [lst[i]]
            
    print(DFS(graph,lst,a))

```






#### DFS 응용 문제

```python

def DFS(lst, a):
    cnt = 0
    visited = [0] * a
    for i in range(a):        
        stack = [i]
        if visited[i] == 0:
            cnt += 1
            visited[i]=1
        while stack:
            num = stack.pop()
            n = lst[num]-1
            if visited[n]==0:
                visited[n]=1
                stack.append(n)
    return cnt

n = int(input())
for i in range(0,n):
    a = int(input())
    ran = list(range(1,a+1))
    lst = list(map(int,input().split()))
    print(DFS(lst, a))
    
```
