---
layout: post
title: Kafka - 3!
subtitle: kafka 책 읽기
categories: kafka
tags: [kafka]
---

## 카프카 스트림즈

- 카프카에서 공식적으로 지원
- 토픽에 적재된 데이터를 상태기방 또는 비상태기반으로 실시간 변환하여 다른 토픽에 적재하는 라이브러리
- (아파치 스파크, 플링크, 스톰, 플루언트디)
- 신규 토픽 생성, 상태 저장, 데이터 조인을 제공
- 스트림즈 애플리케이션 또는 카프카 브로커의 장애가 발생해도 정확히 한번할 수 있도록 장애 허용 시스템 제공 - 안정성이 매우 뛰어남
- 내부적으로 스레드를 1개 이상 생성할 수 있으며 1개이상의 태스크를 가짐
  - 태스크 : 스트림즈 애플리케이션을 실행하는 데이터 처리 최소 단위 ( 컨슈머의 병렬처리를 위해 컨슈머 그룹으로 이루어진 컨슈머 스레드를 여러 개 실행하는 것과 비슷
- 안정적 운영을 위해서 2개이상의 서버로 구성하여 스트림즈 애플리케이션을 사용하는 것을 권장

### 토폴로지와 카프카 스트림즈

#### 토폴로지란?

- 토폴로지란 2개 이상의 노드들과 선으로 이루어진 집합을 뜻
- 링형, 트리형, 성형 -> 스트림즈는 트리 형태와 유사

#### 카프카 스트림즈에서 토폴로지란?

- 토폴로지를 이루는 노드를 하나의 프로세서, 노드와 노드를 이은 선을 스트림 이라고 함
- 소스 프로세서 : 데이터를 처리하기 위해 최초로 선언해야하는 노드로, 하나 이상의 토픽에서 데이터를 가져오는 역할
- 스트림 프로세서 : 다른 프로세서가 반환한 데이터를 처리하는 역할. 변환, 분기처리와 같은 로직
- 싱크 프로세서 : 데이터를 특정 카프카 토픽으로 저장하는 역할로 데이터의 최종 종착지

